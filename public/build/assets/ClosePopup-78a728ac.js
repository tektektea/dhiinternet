import{B as Q,a5 as z,aa as A,G as U,a6 as W,H as n,z as G,N as H,ab as q,ac as J,ad as E,W as y,j as R,i as X,ae as Y,af as Z,ag as ee}from"./app-d07efffd.js";import{i as te}from"./BackendLayout-20703a29.js";function P(e,i){return[!0,!1].includes(e)?e:i}const le=Q({name:"QPagination",props:{...z,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||A.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:i}){const{proxy:o}=U(),{$q:r}=o,h=W(e,r),u=n(()=>parseInt(e.min,10)),l=n(()=>parseInt(e.max,10)),p=n(()=>parseInt(e.maxPages,10)),C=n(()=>v.value+" / "+l.value),L=n(()=>P(e.boundaryLinks,e.input)),g=n(()=>P(e.boundaryNumbers,!e.input)),_=n(()=>P(e.directionLinks,e.input)),k=n(()=>P(e.ellipses,!e.input)),S=G(null),v=n({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=te(t,u.value,l.value);e.modelValue!==a&&i("update:modelValue",a)}});H(()=>`${u.value}|${l.value}`,()=>{v.value=e.modelValue});const M=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),B=n(()=>e.gutter in q?`${q[e.gutter]}px`:e.gutter||null),w=n(()=>B.value!==null?`--q-pagination-gutter-parent:-${B.value};--q-pagination-gutter-child:${B.value}`:null),x=n(()=>{const t=[e.iconFirst||r.iconSet.pagination.first,e.iconPrev||r.iconSet.pagination.prev,e.iconNext||r.iconSet.pagination.next,e.iconLast||r.iconSet.pagination.last];return r.lang.rtl===!0?t.reverse():t}),T=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),V=n(()=>J(e,"flat")),$=n(()=>({[V.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),I=n(()=>{const t={[V.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),j=n(()=>({...I.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),b=n(()=>{let t=Math.max(p.value,1+(k.value?2:0)+(g.value?2:0));const a={pgFrom:u.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return p.value&&t<l.value-u.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(u.value,Math.min(l.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(l.value,a.pgFrom+t-1),g.value&&(a.boundaryStart=!0,a.pgFrom++),k.value&&a.pgFrom>u.value+(g.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),g.value&&(a.boundaryEnd=!0,a.pgTo--),k.value&&a.pgTo<l.value-(g.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function N(t){v.value=t}function O(t){v.value=v.value+t}const K=n(()=>{function t(){v.value=S.value,S.value=null}return{"onUpdate:modelValue":a=>{S.value=a},onKeyup:a=>{E(a,13)===!0&&t()},onBlur:t}});function d(t,a,m){const c={"aria-label":a,"aria-current":"false",...$.value,...t};return m===!0&&Object.assign(c,{"aria-current":"true",...j.value}),a!==void 0&&(e.toFn!==void 0?c.to=e.toFn(a):c.onClick=()=>{N(a)}),y(X,c)}return Object.assign(o,{set:N,setByOffset:O}),()=>{const t=[],a=[];let m;if(L.value===!0&&(t.push(d({key:"bls",disable:e.disable||e.modelValue<=u.value,icon:x.value[0]},u.value)),a.unshift(d({key:"ble",disable:e.disable||e.modelValue>=l.value,icon:x.value[3]},l.value))),_.value===!0&&(t.push(d({key:"bdp",disable:e.disable||e.modelValue<=u.value,icon:x.value[1]},e.modelValue-1)),a.unshift(d({key:"bdn",disable:e.disable||e.modelValue>=l.value,icon:x.value[2]},e.modelValue+1))),e.input!==!0){m=[];const{pgFrom:c,pgTo:F,marginalStyle:f}=b.value;if(b.value.boundaryStart===!0){const s=u.value===e.modelValue;t.push(d({key:"bns",style:f,disable:e.disable,label:u.value},u.value,s))}if(b.value.boundaryEnd===!0){const s=l.value===e.modelValue;a.unshift(d({key:"bne",style:f,disable:e.disable,label:l.value},l.value,s))}b.value.ellipsesStart===!0&&t.push(d({key:"bes",style:f,disable:e.disable,label:"…",ripple:!1},c-1)),b.value.ellipsesEnd===!0&&a.unshift(d({key:"bee",style:f,disable:e.disable,label:"…",ripple:!1},F+1));for(let s=c;s<=F;s++)m.push(d({key:`bpg${s}`,style:f,disable:e.disable,label:s},s,s===e.modelValue))}return y("div",{class:M.value,...T.value},[y("div",{class:"q-pagination__content row no-wrap items-center",style:w.value},[...t,e.input===!0?y(R,{class:"inline",style:{width:`${C.value.length/1.5}em`},type:"number",dense:!0,value:S.value,disable:e.disable,dark:h.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:C.value,min:u.value,max:l.value,...K.value}):y("div",{class:"q-pagination__middle row justify-center"},m),...a])])}}});function D(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const i=parseInt(e,10);return isNaN(i)?0:i}const ie=Y({name:"close-popup",beforeMount(e,{value:i}){const o={depth:D(i),handler(r){o.depth!==0&&setTimeout(()=>{const h=Z(e);h!==void 0&&ee(h,r,o.depth)})},handlerKey(r){E(r,13)===!0&&o.handler(r)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:i,oldValue:o}){i!==o&&(e.__qclosepopup.depth=D(i))},beforeUnmount(e){const i=e.__qclosepopup;e.removeEventListener("click",i.handler),e.removeEventListener("keyup",i.handlerKey),delete e.__qclosepopup}});export{ie as C,le as Q};
