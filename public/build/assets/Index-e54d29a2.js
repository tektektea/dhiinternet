import{Q as q,a as S}from"./QBreadcrumbs-9cb4a643.js";import{u as z,a as g,b,c as h}from"./use-quasar-a938214d.js";import{B as U,Q as F,a as L}from"./BackendLayout-dc8ed187.js";import{r as O,o as x,b as E,w as l,d as s,e,h as v,c as I,l as M,F as P,m as A,n as j,i as u,t as d,q as T,O as k,s as Y,Q as G,p as H,k as J}from"./app-a11841d5.js";import{Q as K,C as V}from"./ClosePopup-c55ec5c8.js";import{Q as R}from"./QPage-9b55a725.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const i=c=>(H("data-v-7d7dacf7"),c=c(),J(),c),X=i(()=>e("br",null,null,-1)),Z={class:"flex justify-between items-center q-pa-md bg-white"},ee=i(()=>e("div",null,[e("div",{class:"text-lg text-bold"},"Bookings")],-1)),te=i(()=>e("br",null,null,-1)),se={class:"column q-pa-md bg-white"},oe=["onClick"],le={class:"flex justify-between items-center q-mt-sm cursor-pointer"},ne={class:"text-bold"},ae={class:"text-weight-medium text-grey-7"},ie={class:"flex q-gutter-sm"},de={class:"flex justify-between items-center q-pa-md"},ce=i(()=>e("div",{class:"text-lg text-bold"},"Booking Detail",-1)),re=i(()=>e("br",null,null,-1)),ue={class:"q-pa-md"},_e={class:"flex justify-between items-center"},me=i(()=>e("div",{class:"text-grey-7 text-weight-medium"},"Name",-1)),fe={class:"text-dark text-bold"},pe={class:"flex justify-between items-center"},ge=i(()=>e("div",{class:"text-grey-7 text-weight-medium"},"Mobile",-1)),be={class:"text-dark text-bold"},he={class:"flex justify-between items-center"},xe=i(()=>e("div",{class:"text-grey-7 text-weight-medium"},"Email",-1)),ve={class:"text-dark text-bold"},ke={class:"flex justify-between items-center"},ye=i(()=>e("div",{class:"text-grey-7 text-weight-medium"},"Address",-1)),we={class:"text-dark text-bold"},Ce={class:"flex justify-between items-center"},Qe=i(()=>e("div",{class:"text-grey-7 text-weight-medium"},"Note",-1)),Be={class:"text-dark text-bold"},qe={class:"flex items-center q-gutter-md q-mt-md"},Ie=Object.assign({layout:U},{__name:"Index",props:["list","filter"],setup(c){var y,w;const m=c,f=z(),o=O({selected:null,open:!1,filter:{selected:m.filter||"Both",options:["Confirmed","Unconfirmed","Both"]},pagination:{current:((y=m.list)==null?void 0:y.current_page)||1,total:Math.ceil(((w=m.list)==null?void 0:w.total)/15)||0}}),p=a=>{k.get(route("booking.index"),{page:o.pagination.current,filter:a})},$=a=>{o.selected=a,o.open=!0},D=a=>{f.dialog({title:"Confirmation",message:"Are you sure to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{k.delete(route("booking.destroy",a.id),{onStart:n=>f.loading.show(),onFinish:n=>f.loading.hide()})})},N=a=>{k.get(route("booking.index"),{page:a})};return(a,n)=>(x(),E(R,{class:"container",padding:""},{default:l(()=>{var C;return[s(S,null,{default:l(()=>[s(q,{onClick:n[0]||(n[0]=t=>a.$inertia.get(a.route("dashboard"))),label:"Dashboard"}),s(q,{label:"Bookings"})]),_:1}),X,e("div",Z,[ee,s(L,{outline:"",color:"secondary","dropdown-icon":"sort",label:(C=o.filter)==null?void 0:C.selected},{default:l(()=>[s(F,null,{default:l(()=>[s(g,{clickable:"",onClick:n[1]||(n[1]=t=>p("Confirmed"))},{default:l(()=>[s(b,null,{default:l(()=>[s(h,null,{default:l(()=>[v("Confirmed")]),_:1})]),_:1})]),_:1}),s(g,{clickable:"",onClick:n[2]||(n[2]=t=>p("Unconfirmed"))},{default:l(()=>[s(b,null,{default:l(()=>[s(h,null,{default:l(()=>[v("Unconfirmed")]),_:1})]),_:1})]),_:1}),s(g,{clickable:"",onClick:n[3]||(n[3]=t=>p("Both"))},{default:l(()=>[s(b,null,{default:l(()=>[s(h,null,{default:l(()=>[v("Both")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),te,e("div",se,[(x(!0),I(P,null,M(c.list.data,(t,_)=>(x(),I("div",{onClick:r=>$(t),key:_},[e("div",le,[e("div",null,[e("div",ne,d(t==null?void 0:t.name),1),e("div",ae,d(t==null?void 0:t.mobile)+" | "+d(t==null?void 0:t.email),1)]),e("div",ie,[s(u,{size:"sm",onClick:r=>a.$inertia.get(a.route("booking.edit",t.id)),outline:"",color:"secondary",icon:"o_edit"},null,8,["onClick"]),s(u,{size:"sm",onClick:Y(r=>D(t),["stop"]),color:"negative",outline:"",icon:"o_delete"},null,8,["onClick"])])]),s(G)],8,oe))),128)),s(K,{class:"q-mt-md",modelValue:o.pagination.current,"onUpdate:modelValue":[n[4]||(n[4]=t=>o.pagination.current=t),N],max:o.pagination.total,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])]),s(T,{modelValue:o.open,"onUpdate:modelValue":n[5]||(n[5]=t=>o.open=t)},{default:l(()=>[s(A,{style:{width:"450px"}},{default:l(()=>{var t,_,r,Q,B;return[e("div",de,[ce,j(s(u,{size:"sm",outline:"",round:"",icon:"close"},null,512),[[V]])]),re,e("div",ue,[e("div",_e,[me,e("div",fe,d((t=o.selected)==null?void 0:t.name),1)]),e("div",pe,[ge,e("div",be,d((_=o.selected)==null?void 0:_.mobile),1)]),e("div",he,[xe,e("div",ve,d((r=o.selected)==null?void 0:r.email),1)]),e("div",ke,[ye,e("div",we,d((Q=o.selected)==null?void 0:Q.address),1)]),e("div",Ce,[Qe,e("div",Be,d((B=o.selected)==null?void 0:B.note),1)]),e("div",qe,[s(u,{href:"tel:"+o.selected.mobile,target:"_blank",class:"sized-btn",icon:"phone",color:"primary",label:"Call Now","no-caps":""},null,8,["href"]),j(s(u,{class:"sized-btn",color:"negative",label:"Close","no-caps":""},null,512),[[V]])])])]}),_:1})]),_:1},8,["modelValue"])]}),_:1}))}}),Ue=W(Ie,[["__scopeId","data-v-7d7dacf7"]]);export{Ue as default};
